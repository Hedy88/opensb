{% extends "_layout.twig" %}

{% block title %}{{ user.username }}{% endblock %}

	{% block precontent %}
<style>
	{{ profCss | raw }}
</style>
	{% endblock %}

	{% block content %}
<div class="row">
	{% if edited %}
	<div class="alert alert-success alert-dismissible fade show" role="alert">
		{{ __("Your profile settings was successfully updated.") }}
		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	{% endif %}
	<div class="p-1 mb-4 bg-custom-profile rounded-3 text-white"> <!-- This prevents the user info box from being extremely tall. Box probably needs to be redesigned... -->
		<div class="container-fluid py-4">
			<div class="row">
			<div class="col-8">
					<img class="float-start" src="{{ profile_image(user.username) }}" style="margin-right: 5%;" width="128" alt="pfp"><h1 class="align-top fw-bold">{{ user.username }}</h1>
					<p class="fs-4">{{ user.description }}</p>
			</div>
			<div class="col-4 text-end">
					<button class="btn btn-warning btn-lg" type="button">{{ __("Subscribe") }}</button>
			</div>
			</div>
		</div>
	</div></div>
	<div class="row">
	<div class="col-8">
				<div class="caption">
					<h3>{{ __("Uploaded videos") }}</h3>
					{% for latestVideo in latestVideos %}
						{{ video_box(latestVideo) }}
					{% else %}
						<p>{{ __("There are no videos uploaded by %s.", [user.username]) }}</p>
					{% endfor %}
		</div>
	</div>
	<div class="col-4">
	<h4>{{ __("About %s", [user.username]) }}</h4>
		<dl class="row">
		  <dt class="col-sm-4">{{ __("Last Seen") }}</dt>
		  <dd class="col-sm-8">{{ latestVideos[0].time | date('M j, Y') }}</dd> {# twig just does not want to return anything from a index, and just returns blank... #}
		  <dt class="col-sm-4">{{ __("Date Joined") }}</dt>
		  <dd class="col-sm-8">{{ user.joined | date('M j, Y') }}</dd>
		</dl>
	</div>
</div>
	{% endblock %}