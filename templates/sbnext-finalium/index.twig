{% extends "_layout.twig" %}
{% block head %}
<meta name="title" content="squareBracket">
<meta name="description" content="SubRocks but every 'Bhief' and '2012' is replaced with 'Gamerappa' and 'sbNext'">
<meta property="og:site_name" content="squareBracket"/>
<meta property="og:title" content="squareBracket">
<meta property="og:description" content="SubRocks but every 'Bhief' and '2012' is replaced with 'Gamerappa' and 'sbNext'">
<meta property="og:image" content="{{ domain }}assets/logo_square_icon.png">
<meta property="og:url" content="{{ page_url }}">
{% endblock %}
{% block title %}Main page{% endblock %}

	{% block precontent %}
<div class="main-content">
	<div class="container" style="max-width:1125px;">
		{% if log %}
		<div class="grid">
			<div class="col-md-2">
				<img class="rounded img-fluid" src="{{ profile_image(userdata.name) }}" alt="{{ userdata.name }}">
			</div>
			<div class="col-md-10">
				<p class="text-start">
				<h1 style="padding:0;margin:8px 0;">{{ __("Welcome,") }} {{ userdata.title }}</h1>
				{# hack to prevent twig from outputing the number 1 #}
				{% if totalSubscribers != 1 %}
					{% set pluralSubscribers = __("s") %}
				{% endif %}
				{% if totalViews != 1 %}
					{% set pluralViews = __("s") %}
				{% endif %}
				<h3 style="padding:0;margin:8px 0;">@{{ userdata.name }}</h3>
				<p style="padding:0;margin:8px 0;">{{ __("%s follower%s", [totalSubscribers ?? __("no"), pluralSubscribers]) }}
					&bull; {{ __("%s view%s", [totalViews ?? __("no"), pluralViews]) }}</p>
				<a class="button button-neutral button-large" href="../studio/">{{ __("Manage my content") }} {{ icon('caret-right-fill', 12) }}</a>
			</div>
		</div>
		{% else %}
		<div class="grid">
			<div class="col-md-8">
				<h1 style="padding:0;margin:8px 0;">{{ __("Welcome to squareBracket") }}</h1>
				<h3 style="padding:0;margin:0;">{{ __("Unbelivable, This is not PokTube.") }}</h3>
			</div>
			<div class="col-md-4">
				<a class="button button-neutral button-large" href="register.php">{{ __("Get started") }} {{ icon('caret-right-fill', 16) }}</a><br><br>
				<big>{{ __("Already have an account?") }} <a class="button button-neutral" href="login.php">{{ __("Sign in") }}</a></big>
			</div>
		</div>
		{% endif %}
	</div>
</div>
	{% endblock %}

	{% block content %}
<div class="grid">
	<div class="col-md-8">
	<div class="grid">
			<div class="col-md-6">
			<div class="card card-body">
				Placeholder, should be featured video.
			</div>
			</div>
			<div class="col-md-6">
				<div class="card card-body">
				{% for video in videos_right %}
				{{ small_video_box(video) }}
				{% endfor %}
				</div>
			</div>
	</div>
		<h3>{{ __("Recently uploaded to squareBracket") }}</h3>
		{% for video in videos %}
		{{ video_box(video) }}
		{% else %}
		<p>{{ __("No uploaded videos.") }}</p>
		{% endfor %}
	</div>
	<div class="col-md-4">
		<h3>{{ __("What's new?") }}</h3>
		<p>{{ __("Welcome to the brand new squareBracket! We've heard it, the old layout sucked, so we have redesigned squareBracket to have a better user interface.") }}</p>
	</div>
</div>
<br><br>
	{% endblock %}