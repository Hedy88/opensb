(function(g){var window=this;var j3=function(a){this.languageCode=a.languageCode;this.languageName=a.languageName||null;this.j=a.languageOriginal||null;this.id=a.id||null;this.isDefault=a.is_default||!1};
var k3=function(a){a=a||{};this.C=a.formats||"";this.j=a.format||1;if(1==this.j)for(var b=this.C.split(","),c=0;c<b.length;c++){var d=(0,window.parseInt)(b[c],10);(0,window.isNaN)(d)||(this.j=Math.max(d,this.j))}this.A=a.languageCode||"";this.F=a.languageName;this.l=a.kind||"";this.B=a.name;this.rb=a.id;this.isDefault=a.is_default;this.D=a.vss_id||"";this.translationLanguage=null;a.translationLanguage&&(this.translationLanguage=new j3(a.translationLanguage))};
var l3=function(a){var b=a.F||"",c=[b];"asr"==a.l&&-1==b.indexOf("(")&&c.push(" (",g.db("YTP_ASR_SETTINGS_LABEL"),")");a.B&&c.push(" - ",a.B);a.translationLanguage&&c.push(" >> ",a.translationLanguage.languageName);return c.join("")};var m3=function(){this.l=[];this.j=[]};var n3=function(a,b){this.start=a;this.end=b;g.qa(this)};
var o3=function(a,b,c){n3.call(this,a,b);a=c||{};this.rb=a.id||"";new g.Sa;g.qa(this);this.tooltip=a.tooltip;a.style&&(this.style=a.style);a.color&&(a=a.color.toString(16),this.color="#"+Array(7-a.length).join("0")+a)};var p3=function(a,b,c,d,e){o3.call(this,a,a+b,{priority:c});this.l=d;this.j=e};
var q3=function(a){var b=a.firstChild&&a.firstChild.nodeValue||"",c=a.getAttribute("t"),c=c?(0,window.parseInt)(c,10):1E3*(0,window.parseFloat)(a.getAttribute("start")||0),d=a.getAttribute("d"),d=d?(0,window.parseFloat)(d):1E3*(0,window.parseFloat)(a.getAttribute("dur")||0),e=(0,window.parseInt)(a.getAttribute("w"),10)||0;a=!!a.getAttribute("append");return new p3(c,d,a?6:5,e,b)};
var r3=function(a,b,c,d,e,f,k){o3.call(this,a,a+b,{priority:c});this.id=d;this.params=e||{};this.j=f||null;this.l=k||null;this.$i="";this.j&&g.hm(this.params,s3(this.j));this.l&&g.hm(this.params,s3(this.l))};var t3=function(){return new r3(0,0x8000000000000,0,0,u3)};var v3=function(a){m3.call(this);this.j.push(t3());a=a.firstChild.childNodes;for(var b=0,c=a.length;b<c;b++){var d=q3(a[b]);this.l.push(d)}};
var w3=function(a){m3.call(this);this.A={};for(a=a.firstChild.firstChild;a;){switch(a.tagName){case "window":var b=a,c=(0,window.parseInt)(b.getAttribute("id"),10);a:{var d=b,e=this.A[c];if(d.getAttribute("t")||d.getAttribute("start")){b=d.getAttribute("start")?1E3*(0,window.parseFloat)(d.getAttribute("start")):(0,window.parseInt)(d.getAttribute("t"),10);e&&(e.end>=b?e.end=b:e=null);switch(d.getAttribute("op")){case "kill":b=null;break a;case "define":e=null}e?e.A=!0:e=t3();var f={};g.hm(f,e?e.params:
u3);d.getAttribute("id")&&(f.id=d.getAttribute("id"));d.getAttribute("op")&&(f.operation=d.getAttribute("op"));d.getAttribute("rc")&&(f.rowCount=(0,window.parseInt)(d.getAttribute("rc"),10));d.getAttribute("cc")&&(f.colCount=(0,window.parseInt)(d.getAttribute("cc"),10));d.getAttribute("ap")&&(e=(0,window.parseInt)(d.getAttribute("ap"),10),f.anchorPoint=0>e||8<e?7:e);d.getAttribute("ah")&&(f.leftPercentage=(0,window.parseInt)(d.getAttribute("ah"),10));d.getAttribute("av")&&(f.topPercentage=(0,window.parseInt)(d.getAttribute("av"),
10));d.getAttribute("id")&&(f.id=(0,window.parseInt)(d.getAttribute("id"),10)||0);d.getAttribute("vs")&&(f.isVisible=Boolean(d.getAttribute("vs")));d.getAttribute("ju")&&(f.textAlign=(0,window.parseInt)(d.getAttribute("ju"),10));d.getAttribute("pd")&&(f.textPrintDirection=1,0==(0,window.parseInt)(d.getAttribute("pd"),10)&&(f.textPrintDirection=0));d.getAttribute("bc")&&(f.backgroundColor=(0,window.parseInt)(d.getAttribute("bc"),16));d.getAttribute("bo")&&(f.backgroundOpacity=(0,window.parseInt)(d.getAttribute("bo"),
10)/100);d.getAttribute("fc")&&(f.color=(0,window.parseInt)(d.getAttribute("fc"),16));d.getAttribute("sd")&&(f.textScrollDirection=(0,window.parseInt)(d.getAttribute("sd"),10));e=(0,window.parseInt)(d.getAttribute("d"),10)||1E3*(0,window.parseFloat)(d.getAttribute("dur"))||0x8000000000000;d=(0,window.parseInt)(d.getAttribute("id"),10)||0;b=new r3(b,e,0,d,f)}else b=null}this.A[c]=b;this.j.push(b);break;case "text":c=q3(a),this.l.push(c),b=c.l,this.A[b]&&(b=this.A[b],b.$i+=c.j)}a=a.nextSibling}0==this.j.length&&
this.j.push(t3())};var x3=function(a){this.parent=a||null;this.j={}};var y3=function(a,b,c){var d=a.j[b];if(void 0!=d)return d;if(a.parent&&(void 0==c||c))return y3(a.parent,b)};var z3=function(a,b,c){void 0!=c&&(a.j[b]=c)};var A3=function(a,b,c){void 0!=c&&(a.j[b]=c)};var s3=function(a){var b=a.parent?s3(a.parent):{};g.hm(b,a.j);return b};
var B3=function(a){m3.call(this);var b={dn:{},ao:{},bo:{}},c,d;a=a.firstChild.childNodes;for(var e=0;e<a.length;e++){var f=a[e];switch(f.tagName){case "head":c=f;break;case "body":d=f}}if(c)for(c=c.childNodes,a=0;a<c.length;a++)switch(e=c[a],e.tagName){case "pen":var f=b,k=C3(e,"p"),l=void 0;k&&f.dn[k]&&(l=f.dn[k]);f=new x3(l);z3(f,"id",C3(e,"id"));k=D3(e,"b");void 0!=k&&(f.j.bold=k);k=D3(e,"i");void 0!=k&&(f.j.italic=k);k=D3(e,"u");void 0!=k&&(f.j.underline=k);z3(f,"charEdgeStyle",E3(e,"et"));z3(f,
"offset",E3(e,"of"));z3(f,"textType",E3(e,"tt"));A3(f,"background",F3(e,"bc"));A3(f,"charEdgeColor",F3(e,"ec"));A3(f,"color",F3(e,"fc"));k=E3(e,"fs");void 0!=k&&0!=k&&z3(f,"fontFamily",k);k=C3(e,"sz");void 0!=k&&z3(f,"fontSizeIncrement",k/100-1);k=C3(e,"bo");void 0!=k&&z3(f,"backgroundOpacity",k/255);e=C3(e,"fo");void 0!=e&&z3(f,"textOpacity",e/255);e=y3(f,"id",!1);b.dn[e]=f;break;case "ws":f=G3(b,e);e=y3(f,"id",!1);b.bo[e]=f;break;case "wp":f=H3(b,e),e=y3(f,"id",!1),b.ao[e]=f}if(d)for(c={},a=-1,
d=d.childNodes,e=0;e<d.length;e++)switch(f=d[e],f.tagName){case "w":k=I3(b,f);if(f=c[k.id])f.end=k.start;c[k.id]=k;this.j.push(k);break;case "p":var k=f,l=C3(k,"t")||0,p=C3(k,"d")||0,v=k.textContent||"",w=C3(k,"w")||0,H=D3(k,"a")?6:5;C3(k,"p");l=new p3(l,p,H,w,v);k=c[l.l];k||(k=I3(b,f),k.id=a--,l.l=k.id,this.j.push(k));k.$i+=l.j;this.l.push(l)}};var C3=function(a,b){var c=a.getAttribute(b);if(null!=c)return(0,window.parseFloat)(c)};
var D3=function(a,b){var c=a.getAttribute(b);if(null!=c)return"1"==c};var E3=function(a,b){var c=C3(a,b);if(void 0!=c)return c};var F3=function(a,b){var c=a.getAttribute(b);if(null!=c)return Zpa.test(c),c};
var G3=function(a,b){var c=C3(b,"ws"),d;c&&a.bo[c]&&(d=a.bo[c]);c=new x3(d);z3(c,"id",C3(b,"id"));z3(c,"modeHint",E3(b,"mh"));z3(c,"textAlign",C3(b,"ju"));z3(c,"textPrintDirection",E3(b,"pd"));z3(c,"textScrollDirection",E3(b,"sd"));z3(c,"windowBorderType",E3(b,"et"));A3(c,"windowBorderColor",F3(b,"wbc"));A3(c,"windowColor",F3(b,"wfc"));d=C3(b,"wfo");void 0!=d&&z3(c,"windowOpacity",d/255);return c};
var H3=function(a,b){var c=C3(b,"wp"),d;c&&a.ao[c]&&(d=a.ao[c]);c=new x3(d);z3(c,"anchorPoint",E3(b,"ap"));z3(c,"colCount",C3(b,"cc"));z3(c,"id",C3(b,"id"));z3(c,"leftPercentage",C3(b,"ah"));z3(c,"rowCount",C3(b,"rc"));z3(c,"topPercentage",C3(b,"av"));return c};var I3=function(a,b){var c=C3(b,"id")||0,d;d=C3(b,"t");var e=C3(b,"d")||0x8000000000000,f=H3(a,b),k=G3(a,b);return new r3(d,e,0,c,null,f,k)};
var J3=function(a,b){m3.call(this);this.j.push(t3());for(var c=a.split($pa),d=1;d<c.length;d++){var e;e=c[d];var f=b;if(""==e||0==e.search(aqa))e=null;else{var k=e.split(bqa),l=0,p=k[l++].match(K3);p||(p=k[l++].match(K3));p?(e=L3(p[1],f)||0,f=L3(p[3],f)||0,k=k.slice(l).join("\n"),e=new p3(e,f-e,5,0,k)):e=null}e&&this.l.push(e)}};var L3=function(a,b){for(var c=a.split(":"),d=0,e=0;e<c.length;e++)d=60*d+(0,window.parseFloat)(c[e]);return 1E3*d+b};
var cqa=function(a){this.j=[];if(a)if("WEBVTT"==a.substring(0,6))a=new J3(a,0);else{if("undefined"!=typeof window.DOMParser)a=(new window.DOMParser).parseFromString(a,"application/xml");else if("undefined"!=typeof window.ActiveXObject){var b=new window.ActiveXObject("MSXML2.DOMDocument");if(b){b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),b.setProperty("MaxElementDepth",256)}catch(c){}}b.loadXML(a);a=b}else throw Error("Your browser does not support loading xml documents");
a=a&&a.firstChild?"timedtext"==a.firstChild.tagName?3==(0,window.parseInt)(a.firstChild.getAttribute("format"),10)?new B3(a):new w3(a):new v3(a):null}else a=null;a&&(this.j=a.l)};var dqa=function(){this.A=[];this.l=[];this.j=-1};var M3=function(a){return a.l.concat(a.A)};var N3=function(a,b){switch(b.l){case "asr":return O3(b,a.A);default:if(b.isDefault||0>a.j)a.j=a.l.length;return O3(b,a.l)}};var O3=function(a,b){return g.Ga(b,(0,g.q)(a.equals,a))?!1:(b.push(a),!0)};
var eqa=function(a,b){var c=g.Ha(a.l,(0,g.q)(b.equals,b));-1!=c&&(a.j=c)};var P3=function(a){this.F=!!a;this.l=new dqa;this.D=[]};var fqa=function(a,b){return g.Ga(M3(a.l),function(a){return a.toString()==b})};var Q3=function(a,b,c,d){P3.call(this,d);c||(c=g.ml(a).hl||"",c=c.split("_").join("-"));this.B=g.ll(a,{hl:c});this.C=b;this.A={};this.j=null};
var R3=function(a,b,c){g.Uh(!a.isDisposed());var d=gqa(a,b),e=(0,g.q)(function(a){this.j=null;a=new cqa(a.responseText);c(a,b)},a);a.j&&a.j.abort();a.j=g.T(d,{format:"RAW",T:e,withCredentials:!0});eqa(a.l,b)};
var hqa=function(a,b){var c=a.B,d={type:"list",tlangs:1,v:a.C,fmts:Number(!1),vssids:1};a.F&&(d.asrs=1);c=g.ll(c,d);d=(0,g.q)(function(a){this.j=null;if((a=a.responseXML)&&a.firstChild){for(var c=this.l,d=a.getElementsByTagName("track"),l=d.length,p=0;p<l;p++){var v=d[p].getAttribute("formats"),w=d[p].getAttribute("lang_code"),H=d[p].getAttribute("lang_translated"),S=d[p].getAttribute("name"),da=d[p].getAttribute("kind"),na=d[p].getAttribute("id"),La="true"==d[p].getAttribute("lang_default"),Va="true"==
d[p].getAttribute("cantran"),Ic=d[p].getAttribute("vss_id"),v=new k3({formats:v,format:void 0,languageCode:w,languageName:H,name:S,kind:da,id:na,is_servable:!0,is_default:La,is_translateable:Va,vss_id:Ic});N3(c,v)}a=a.getElementsByTagName("target");c=a.length;for(d=0;d<c;d++)l=a[d].getAttribute("lang_code"),p=a[d].getAttribute("lang_translated"),v=a[d].getAttribute("lang_original"),w=a[d].getAttribute("id"),H="true"==a[d].getAttribute("lang_default"),l={languageCode:l,languageName:p,languageOriginal:v,
id:w,is_default:H},this.A[l.languageCode]=l.languageName,this.D.push(new j3(l))}b()},a);a.j&&a.j.abort();a.j=g.T(c,{format:"RAW",T:d,withCredentials:!0})};var gqa=function(a,b){var c=a.B,d={v:a.C,type:"track",lang:b.A,name:b.B,kind:b.l,fmt:b.j};b.translationLanguage&&(d.tlang=b.translationLanguage.languageCode);return c=g.ll(c,d)};var S3=function(){if(g.x("TTS_URL")&&!T3){var a=g.KA();a&&(T3=new U3(a))}};
var U3=function(a){this.Rk=!1;this.Yb=a;this.eg=[];this.gi=[];this.Ge=new Q3(g.x("TTS_URL"),g.x("VIDEO_ID"),null,!0);this.Yb.addEventListener("captionschanged",(0,g.q)(this.bB,this))};var V3=function(a,b){var c=b.languageCode;b.languageName=a.Ge.A[c]||c;b.translationLanguage&&(c=b.translationLanguage.languageCode,b.translationLanguage.languageName=a.Ge.A[c]||c);c=new k3(b);return!c.A||c.translationLanguage&&!c.translationLanguage.languageCode?null:c};
var W3=function(a,b,c){var d=g.Gc("button",{className:["yt-ui-menu-item yt-uix-menu-close-on-select yt-uix-button-menu-item"],value:c});c=g.Gc("span",{className:"yt-uix-button-content transcript-lang",value:c});b=g.Cl(b);a.j.appendChild(d);d.appendChild(c);c.appendChild(b)};
var iqa=function(a,b){g.$a(a.Bk);var c=Math.min(b.offsetTop-a.zc.offsetTop,a.zc.scrollHeight-a.zc.offsetHeight),d=0;a.Bk=g.Ya((0,g.q)(function(){var a=c-this.zc.scrollTop,b=Math.round(100*a/(1E3-50*d));Math.abs(a)<=Math.abs(b)||20<d?(this.zc.scrollTop=c,g.$a(this.Bk)):(this.zc.scrollTop+=b,d++)},a),50)};j3.prototype.toString=function(){return this.languageCode+"_"+this.languageName+"_"+this.j+"_"+this.id+"_"+this.isDefault};k3.prototype.toString=function(){return this.A+": "+l3(this)+" - "+this.D};k3.prototype.equals=function(a){return a?this.toString()==a.toString():!1};n3.prototype.contains=function(a,b){return a>=this.start&&(a<this.end||a==this.end&&this.start==this.end)&&(null==b||a<b&&b<=this.end)};n3.prototype.toString=function(){return"Interval["+this.start+", "+this.end+"]"};g.t(o3,n3);o3.prototype.rb="";o3.prototype.style="ytp-ad-progress";o3.prototype.getId=function(){return this.rb};o3.prototype.toString=function(){return o3.J.toString.call(this)};var Zpa=/^#(?:[0-9a-f]{3}){1,2}$/i,u3={id:0,priority:0,colCount:100};g.t(p3,o3);p3.prototype.toString=function(){return p3.J.toString.call(this)};g.t(r3,o3);r3.prototype.A=!1;g.t(v3,m3);g.t(w3,m3);g.t(B3,m3);g.t(J3,m3);var aqa=/NOTE/,$pa=/(?:\r\n|\r|\n){2,}/,bqa=/\r\n|\r|\n/,K3=/(([\d]{2}:)?[\d]{2}:[\d]{2}\.[\d]{3})[\t ]+--\x3e[\t ]+(([\d]{2}:)?[\d]{2}:[\d]{2}\.[\d]{3})/;g.t(P3,g.u);P3.prototype.seek=function(){};P3.prototype.R=function(){P3.J.R.call(this)};g.t(Q3,P3);Q3.prototype.R=function(){this.j&&this.j.abort();Q3.J.R.call(this)};var T3=null;g.h=U3.prototype;g.h.eg=null;g.h.Ge=null;g.h.ql=null;g.h.np=null;g.h.ll=-1;g.h.Qn=!1;g.h.al=0;g.h.Bk=0;g.h.Rk=!1;g.h.cf=null;g.h.zc=null;g.h.Ak=null;g.h.gi=null;g.h.dispose=function(){g.M(this.eg);this.eg.length=0;this.gi.length=0;g.$a(this.al);g.$a(this.Bk)};g.h.bB=function(a){a.format=1;var b=V3(this,a);b&&(this.Rk?(N3(this.Ge.l,b)&&W3(this,l3(b),b.value),R3(this.Ge,b,(0,g.q)(this.mk,this))):this.gi.push(a))};
g.h.open=function(a){if(this.Rk)a();else if(this.Ak=g.E("watch-transcript-container"),"true"==g.C(this.Ak,"disabled"))a();else{var b=g.Gc("div",{className:"yt-uix-menu"}),c=g.Gc("div",{className:"yt-uix-menu-trigger"});this.cf=g.Gc("button",{className:["yt-uix-button yt-uix-button-default hidden"],"button-menu-id":"watch-transcript-track-selector"});this.j=g.Gc("div",{className:["yt-uix-menu-content yt-ui-menu-content yt-uix-menu-content-hidden"]});this.Ak.appendChild(b);b.appendChild(c);c.appendChild(this.cf);
b.appendChild(this.j);this.zc=window.document.createElement("div");this.zc.id="transcript-scrollbox";g.J(this.zc,"yt-uix-scroller");this.eg.push(g.L(this.zc,"mouseover",(0,g.q)(function(){this.Qn=!0},this)));this.eg.push(g.L(this.zc,"mouseout",(0,g.q)(function(){this.Qn=!1},this)));this.Ak.appendChild(this.zc);this.eg.push(g.Q(this.zc,"click",(0,g.q)(this.aB,this),"caption-line"));hqa(this.Ge,(0,g.q)(function(){for(var b=this.Ge,c=null,f=0;f<this.gi.length;f++)(c=V3(this,this.gi[f]))&&N3(b.l,c);var k=
M3(b.l);if(0>=k.length)g.N("watch-transcript-not-found");else{var f=g.Gc("span",{className:"yt-uix-button-content transcript-lang"}),l=g.Cl(l3(k[0]));this.cf.appendChild(f);f.appendChild(l);f=g.Gc("img",{"class":"yt-uix-button-arrow",src:g.x("DROPDOWN_ARROW_URL")});this.cf.appendChild(f);g.N(this.cf);f=0;for(l=k.length;f<l;f++)W3(this,l3(k[f]),k[f].toString());if(k=g.db("CC_ADD_TRANSCRIPT_TITLE"))W3(this,k,"add-cc"),g.Hn(6035988,"cc_transcriptions"),g.Fn();this.eg.push(g.Q(this.j,"click",(0,g.q)(this.xz,
this),"yt-uix-button-menu-item"));c?R3(b,c,(0,g.q)(this.mk,this)):(c=(0,g.q)(this.mk,this),k=b.l.j,f=M3(b.l),0>k&&0<f.length&&(k=0),k=0>k?null:f[k],null!=k&&R3(b,k,c))}a()},this));this.Rk=!0}};g.h.xz=function(a){if("add-cc"==a.target.value){if(a=g.x("CC_ADD_TRANSCRIPT_URL"))window.location.href=a}else{var b=this.Ge,c=(0,g.q)(this.mk,this),d=fqa(b,a.target.value);d&&R3(b,d,c);this.j&&(this.cf.firstChild.innerHTML=a.target.innerHTML)}};
g.h.aB=function(a){var b=g.C(a.currentTarget,"time");b&&(this.Yb.seekTo((0,window.parseInt)(b,10),!0),a.preventDefault())};
g.h.mk=function(a,b){this.ll=-1;this.ql=a;this.np=b;var c=this.ql.j;g.$a(this.al);this.zc.innerHTML="";for(var d=window.document.createDocumentFragment(),e=0,f=c.length;e<f;e++){var k=c[e],l=window.document.createElement("div"),p=k.start/1E3;l.id="cp-"+e;l.className="caption-line";g.Hl(l,"time",p+"");d.appendChild(l);var v=window.document.createElement("div");v.className="caption-line-time";v.innerHTML=Math.floor(p/60)+":"+(10>p%60?"0":"")+Math.floor(p%60);l.appendChild(v);p=window.document.createElement("div");
p.className="caption-line-text";p.innerHTML=k.j;l.appendChild(p)}this.cf&&(c=g.F("transcript-lang",this.cf),g.bi(c,l3(this.np)));this.zc.appendChild(d);this.al=g.Ya((0,g.q)(this.hH,this),500)};
g.h.hH=function(){for(var a=this.Yb.getCurrentTime(),b=this.ql.j,c=this.ll,d=c;;){var e=0<=d?b[d].start/1E3:-1;if(a+.5<e)--d;else if(e=d+1<b.length?b[d+1].start/1E3:1E6,a+.5>e)d+=1;else break}d!=c&&(0<=c&&(a=g.E("cp-"+c),g.K(a,"caption-line-highlight")),0<=d&&(a=g.E("cp-"+d),g.J(a,"caption-line-highlight")),this.ll=d,this.Qn||iqa(this,g.E("cp-"+(3<=d?d-3:0))))};g.m("yt.www.watch.transcript.open",function(a){S3();T3.open(a)},void 0);g.ub(g.Ql({name:"www/watch_transcript",deps:["www/watch"],page:"watch",init:function(){S3()},dispose:function(){T3&&(T3.dispose(),T3=null)}}));})(_yt_www);
