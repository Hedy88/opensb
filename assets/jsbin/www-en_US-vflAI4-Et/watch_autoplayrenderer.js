(function(g){var window=this;var t4=function(a){return"_"+(0,window.encodeURIComponent)(a).replace(/[.!~*'()%]/g,function(a){return lqa[a]})};var u4=function(a,b){this.l=a;this.j=null;if(g.D&&!g.uc(9)){v4||(v4=new g.Ii);this.j=v4.get(a);this.j||(b?this.j=window.document.getElementById(b):(this.j=window.document.createElement("userdata"),this.j.addBehavior("#default#userData"),window.document.body.appendChild(this.j)),v4.set(a,this.j));try{this.j.load(this.l)}catch(c){this.j=null}}};
var w4=function(a){try{a.j.save(a.l)}catch(b){throw"Storage mechanism: Quota exceeded";}};var x4=function(a){return a.j.XMLDocument.documentElement};var y4=function(){var a=g.Bj("visibilityState",window.document);return!(!a||"visible"==a)};var z4=function(a,b){var c;b?c=null:(c=g.Lu(a))||(c=new u4(a||"UserDataSharedStore"),c=c.isAvailable()?c:null);this.j=c?new g.no(c):null};
var mqa=function(){A4.push(g.z("player-playback-start",g.r(B4,!0)));A4.push(g.z("player-autonav-change-request",nqa));A4.push(g.z("player-autonav-pause-request",oqa));(0,g.A)(["check","uncheck","change"],function(a){C4.push(g.L(D4,a,E4))});A4.push(g.z("page-scroll",F4));C4.push(g.L(g.E("watch8-secondary-actions"),"click",pqa,!0));C4.push(g.L(window.document.body,"focus",G4,!0));C4.push(g.L(window.document.body,"blur",qqa,!0));A4.push(g.z("yt-www-comments-sharebox-open",G4));C4.push(g.L(window.document,
"visibilitychange",H4));var a=g.AA();a.addEventListener("onVolumeChange",H4);a.addEventListener("autonavcancel",rqa);g.x("PREFETCH_AUTONAV")&&a.addEventListener("onStateChange",I4)};var pqa=function(){J4=g.Xa(function(){var a=g.E("watch-action-panels");if(a){for(var b=g.P("pause-resume-autoplay"),c=!1,d=0;d<b.length;d++)if(g.H(b[d],"yt-uix-button-toggled")){c=!0;break}!c&&g.H(a,"hid")?(K4=!1,g.Za(J4)):K4=!0;B4()}},500)};
var sqa=function(){L4=window.document.activeElement&&"IFRAME"==window.document.activeElement.tagName.toUpperCase();B4()};var F4=function(){M4=-200>N4.getBoundingClientRect().top;B4()};var G4=function(a){if(a&&("INPUT"==a.target.tagName||"TEXTAREA"==a.target.tagName)){if("autoplay-checkbox"==a.target.id)return;O4=!0}B4()};var H4=function(){if(P4()){var a=g.AA();Q4=y4()&&(a.isMuted()||0==a.getVolume());B4()}};var oqa=function(a){R4=a;B4()};var tqa=function(){S4=!0;B4();T4=0};
var U4=function(){S4=!1;B4();T4&&g.Ya(T4);T4=g.y(tqa,144E5-g.Ud())};var qqa=function(a){y4()||(!a||"INPUT"!=a.target.tagName&&"TEXTAREA"!=a.target.tagName||(O4=!1),B4())};var B4=function(a){V4=M4||L4||O4||Q4||R4||K4||S4;var b;b=W4()?V4?3:2:1;var c=g.AA(),d=P4();d&&!c.setAutonav&&g.$a(Error("Player is ready but setAutonav is not"),"WARNING");d&&(a||X4!=b)&&(c.setAutonavState(b),X4=b);Y4()};var P4=function(){var a=g.AA();return a&&a.isReady()};
var E4=function(){var a=W4(),b=D4.checked;b!=a&&(a=g.$c({state:b?"enabled":"disabled"}),g.Gj("autoplay",a,void 0),a=g.Of.getInstance(),b||g.Kh(141,!0),g.Kh(140,!b),a.save(),Z4.set("autonav_disabled",!b),B4())};var nqa=function(a){D4.checked=a;E4()};var W4=function(){return!g.Tf(g.Of.getInstance(),140)};var Y4=function(){if(g.x("AUTONAV_EXTRA_CHECK")){var a=W4(),b=!Z4.get("autonav_disabled"),c="";a!=b&&(c="Cookie does not match localstorage value cookie:"+a+" LocalStorage:"+b);c&&g.$a(Error(c),"WARNING")}};
var I4=function(a){if(0==a&&W4()&&!V4&&(a=g.F("autoplay-bar"),a=g.F("spf-link",a))){var b=g.Kq(a);b.autonav=1;b.feature="related-auto";b.playnext=1;var c=g.Ud();0<c&&(b.lact=c);g.Mz(a.href,!!g.x("PREBUFFER_AUTONAV"),b)}};var rqa=function(a){a.cancel&&a.userTriggered&&g.x("AUTOPLAY_GUIDED_HELP_NEXT_CANCEL")&&$4()};var $4=function(){var a=g.Of.getInstance();g.Tf(0,146)||g.Tf(0,141)||(g.Cn(),g.Dn(6223778),g.Kh(146,!0),a.save())};
var lqa={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},v4=null;g.t(u4,g.Yn);g.h=u4.prototype;g.h.isAvailable=function(){return!!this.j};g.h.set=function(a,b){this.j.setAttribute(t4(a),b);w4(this)};g.h.get=function(a){a=this.j.getAttribute(t4(a));if(!g.ka(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};g.h.remove=function(a){this.j.removeAttribute(t4(a));w4(this)};g.h.ob=function(){return x4(this).attributes.length};
g.h.dc=function(a){var b=0,c=x4(this).attributes,d=new g.ui;d.next=function(){if(b>=c.length)throw g.nh;var d;d=c[b++];if(a)return(0,window.decodeURIComponent)(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!g.ka(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};g.h.clear=function(){for(var a=x4(this),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);w4(this)};z4.prototype.set=function(a,b,c,d){c=c||31104E3;this.remove(a);if(this.j)try{this.j.set(a,b,(0,g.G)()+1E3*c);return}catch(e){}var f="";if(d)try{f=(0,window.escape)(g.eo(b))}catch(k){return}else f=(0,window.escape)(b);g.Yd(a,f,c,window.document.domain)};z4.prototype.get=function(a,b){var c=void 0,d=!this.j;if(!d)try{c=this.j.get(a)}catch(e){d=!0}if(d&&(c=g.$d(a))&&(c=(0,window.unescape)(c),b))try{c=g.bo(c)}catch(f){this.remove(a),c=void 0}return c};
z4.prototype.remove=function(a){this.j&&this.j.remove(a);g.Lk(a,"/",window.document.domain)};var C4=[],A4=[],N4=null,D4=null,a5=0,J4=0,T4=0,V4=!1,M4=!1,O4=!1,K4=!1,L4=!1,Q4=!1,R4=!1,S4=!1,X4=1,Z4=new z4("yt.autonav");g.rb(g.Nl({name:"www/autoplayrenderer",deps:["www/watch"],page:"watch",init:function(){N4=g.E("player");if(D4=g.E("autoplay-checkbox"))g.AA()?(a5=g.Xa(sqa,500),U4(),A4.push(g.z("USER_ACTIVE",U4)),D4.checked=W4(),mqa(),F4(),H4(),Y4(),g.x("AUTOPLAY_GUIDED_HELP_NEXT_WATCH")&&$4()):g.$a(Error("Autoplay player is missing"),"WARNING")},dispose:function(){g.M(C4);C4.length=0;g.ib(A4);T4&&(g.Ya(T4),T4=0);A4.length=0;D4=N4=null;M4=!1;g.Za(a5);var a=g.AA();a&&(a.removeEventListener("onStateChange",I4),a.removeEventListener("onVolumeChange",
H4));S4=R4=Q4=K4=L4=O4=M4=V4=!1}}));})(_yt_www);
